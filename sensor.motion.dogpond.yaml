###
### dogpond sensors
###

## CAMERA FOUND - 'motion/+/dogpond/status/found'
- platform: mqtt
  name: motion_found_dogpond
  state_topic: 'motion/+/dogpond/status/found'
  expire_after: 1
  force_update: true
  json_attributes:
    - device
    - camera
    - date
    - status
  value_template: >
    {% if value_json is defined %}true{% else %}null{% endif %}

## CAMERA LOST - 'motion/+/dogpond/status/lost' 
- platform: mqtt
  name: motion_lost_dogpond
  state_topic: 'motion/+/dogpond/status/lost'
  expire_after: 1
  force_update: true
  json_attributes:
    - device
    - camera
    - date
    - status
  value_template: >
    {% if value_json is defined %}true{% else %}null{% endif %}

## EVENT IMAGE - motion/+/dogpond/event/image
- platform: mqtt
  name: motion_image_dogpond
  qos: 1
  state_topic: 'motion/+/dogpond/event/image'
  expire_after: 1
  force_update: true
  json_attributes:
    - device
    - camera
    - type
    - date
    - seqno
    - event
    - id
    - center
    - width
    - height
    - size
    - noise
  value_template: >
    {% if value_json is defined %}true{% else %}null{% endif %}

## START EVENT
- platform: mqtt
  name: motion_start_dogpond
  qos: 1
  state_topic: 'motion/+/dogpond/event/start'
  expire_after: 1
  force_update: true
  json_attributes:
    - device
    - camera
    - event
    - start
  value_template: >
    {% if value_json is defined %}true{% else %}null{% endif %}

## END EVENT
- platform: mqtt
  name: motion_end_dogpond
  qos: 1
  state_topic: 'motion/+/dogpond/event/end'
  expire_after: 1
  force_update: true
  json_attributes:
    - device
    - camera
    - event
    - start
    - end
    - elapsed
    - date
  value_template: >
    {% if value_json is defined %}true{% else %}null{% endif %}

## ANNOTATED EVENT
- platform: mqtt
  name: motion_annotated_dogpond
  state_topic: 'motion/+/dogpond/event/end/+'
  expire_after: 1
  force_update: true
  json_attributes:
    - timestamp
    - date
    - time
    - count
    - event
    - info
    - detected
  value_template: >
    {% if value_json is defined %}
      {% if value_json.count|int > 0 %}true{% else %}null{% endif %}
    {% else %}null{% endif %}
